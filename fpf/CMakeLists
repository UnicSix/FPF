cmake_minimum_required(VERSION 3.30)

file( GLOB_RECURSE PROJECT_SRC
  "/*.cpp"
)
add_library(${PROJECT_NAME}
  ${PROJECT_SRC}
)

add_library(fpf::fpf ALIAS fpf)

# Set version for shared libraries.
set_target_properties(fpf
        PROPERTIES
        VERSION ${${PROJECT_NAME}_VERSION}
        SOVERSION ${${PROJECT_NAME}_VERSION_MAJOR})

install(TARGETS fpf
        EXPORT fpfTargets
        RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
        LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR})

install(EXPORT fpfTargets
        FILE fpfTargets.cmake
        NAMESPACE fpf::
        DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/fpf)
